{% extends 'base.html' %}

{% block title %}首页{% endblock %}

{% block content %}
    {% if polls %}
        <div class="content-block">
            <div class="polls-list card">
            {% for poll in polls %}
                <div class="poll-card card-content">
                    <div class="poll-number"> # {{ loop.revindex }}</div>
                    <h3>{{ poll.question }}</h3>
                    <div class="poll-actions">
                        <a href="{{ url_for('vote', poll_id=poll.id) }}" class="button">参与投票</a>
                        <a href="{{ url_for('results', poll_id=poll.id) }}" class="button secondary">查看结果</a>
                    </div>
                    <div class="poll-meta">
                        创建时间: {{ poll.created_at }}
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="empty-state">
            <p>目前还没有投票。</p>
            <a href="{{ url_for('create') }}" class="button">创建第一个投票</a>
        </div>
    {% endif %}
{% endblock %}
